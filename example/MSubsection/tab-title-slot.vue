<template>
  <div class="p-20px">
    <p>é€šè¿‡ tab-title-{index} æ’æ§½å¯ä»¥è‡ªå®šä¹‰æ¯ä¸ªæ ‡ç­¾é¡µçš„æ ‡é¢˜å†…å®¹ã€‚</p>

    <MSubsection :tabs="tabs" v-model="activeIndex">
      <!-- è‡ªå®šä¹‰ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µæ ‡é¢˜ -->
      <template #tab-title-0="{ tab }">
        <div style="display: flex; align-items: center; gap: 6px">
          <span style="color: #ff4757">ğŸ </span>
          <span>{{ tab.title }}</span>
          <span
            v-if="tab.badge"
            style="
              background: #ff4757;
              color: white;
              font-size: 12px;
              padding: 2px 6px;
              border-radius: 10px;
            "
          >
            {{ tab.badge }}
          </span>
        </div>
      </template>

      <!-- è‡ªå®šä¹‰ç¬¬äºŒä¸ªæ ‡ç­¾é¡µæ ‡é¢˜ -->
      <template #tab-title-1="{ tab }">
        <div style="display: flex; align-items: center; gap: 6px">
          <span style="color: #2ed573">ğŸ“Š</span>
          <span>{{ tab.title }}</span>
          <span
            v-if="tab.count !== undefined"
            style="
              background: #2ed573;
              color: white;
              font-size: 12px;
              padding: 2px 6px;
              border-radius: 50%;
              min-width: 20px;
              text-align: center;
            "
          >
            {{ tab.count }}
          </span>
        </div>
      </template>

      <!-- è‡ªå®šä¹‰ç¬¬ä¸‰ä¸ªæ ‡ç­¾é¡µæ ‡é¢˜ -->
      <template #tab-title-2="{ tab }">
        <div
          style="display: flex; align-items: center; gap: 6px"
        >
          <span style="color: #3742fa">âš™ï¸</span>
          <span style="font-weight: bold">{{ tab.title }}</span>
          <span
            v-if="tab.isNew"
            style="
              background: linear-gradient(45deg, #3742fa, #2f3542);
              color: white;
              font-size: 10px;
              padding: 1px 4px;
              border-radius: 3px;
            "
          >
            NEW
          </span>
        </div>
      </template>

      <!-- æ ‡ç­¾é¡µå†…å®¹ -->
      <template #tab-content-0>
        <div class="mt-20px" style="padding: 20px; background: #fff5f5">
          <h4>ğŸ  é¦–é¡µå†…å®¹</h4>
          <p>è¿™æ˜¯é¦–é¡µå†…å®¹ï¼Œå¸¦æœ‰çº¢è‰²å¾½ç« æé†’ã€‚</p>
          <p>æ’æ§½å‚æ•° tab åŒ…å«: {{ JSON.stringify(tabs[0], null, 2) }}</p>
        </div>
      </template>

      <template #tab-content-1>
        <div class="mt-20px" style="padding: 20px; background: #f0fff4">
          <h4>ğŸ“Š æ•°æ®ç»Ÿè®¡</h4>
          <p>è¿™æ˜¯æ•°æ®ç»Ÿè®¡é¡µé¢ï¼Œæ˜¾ç¤ºæ•°é‡å¾½ç« ã€‚</p>
          <p>æ’æ§½å‚æ•° tab åŒ…å«: {{ JSON.stringify(tabs[1], null, 2) }}</p>
        </div>
      </template>

      <template #tab-content-2>
        <div class="mt-20px" style="padding: 20px; background: #f0f0ff">
          <h4>âš™ï¸ ç³»ç»Ÿè®¾ç½®</h4>
          <p>è¿™æ˜¯ç³»ç»Ÿè®¾ç½®é¡µé¢ï¼Œæ ‡è®°ä¸ºæ–°åŠŸèƒ½ã€‚</p>
          <p>æ’æ§½å‚æ•° tab åŒ…å«: {{ JSON.stringify(tabs[2], null, 2) }}</p>
        </div>
      </template>
    </MSubsection>

    <div style="margin-top: 20px; padding: 10px; background: #f5f5f5">
      <p><strong>è¯´æ˜:</strong></p>
      <ul>
        <li>æ¯ä¸ª tab-title-{index} æ’æ§½éƒ½ä¼šæ¥æ”¶åˆ° { tab } å‚æ•°</li>
        <li>å¯ä»¥æ ¹æ® tab å¯¹è±¡çš„å±æ€§æ¥æ¸²æŸ“ä¸åŒçš„å†…å®¹</li>
        <li>æ”¯æŒå›¾æ ‡ã€å¾½ç« ã€è®¡æ•°å™¨ç­‰è‡ªå®šä¹‰å…ƒç´ </li>
        <li>å½“å‰æ¿€æ´»çš„æ ‡ç­¾é¡µ: {{ activeIndex }}</li>
      </ul>
    </div>
  </div>
</template>

<script setup>
import { ref } from "vue";
import MSubsection from "../../packages/moon-ui/src/MSubsection/index.vue";

const activeIndex = ref(0);

const tabs = ref([
  {
    title: "é¦–é¡µ",
    badge: "çƒ­é—¨",
    description: "é¦–é¡µå†…å®¹",
  },
  {
    title: "æ•°æ®ç»Ÿè®¡",
    count: 99,
    description: "ç»Ÿè®¡ä¿¡æ¯",
  },
  {
    title: "ç³»ç»Ÿè®¾ç½®",
    isNew: true,
    description: "é…ç½®é€‰é¡¹",
  },
]);
</script>
<style scoped>
:deep(.m-subsection__tab-item) {
  padding: 0 40px;
}
</style>
